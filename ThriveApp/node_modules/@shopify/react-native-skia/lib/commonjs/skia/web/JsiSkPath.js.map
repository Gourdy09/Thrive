{"version":3,"names":["_types","require","_Host","_JsiSkPoint","_JsiSkRect","_JsiSkRRect","_JsiSkMatrix","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","t","i","_toPrimitive","String","r","e","Symbol","toPrimitive","call","TypeError","Number","CommandCount","PathVerb","Move","Line","Quad","Conic","Cubic","Close","pinT","Math","min","max","JsiSkPath","HostObject","constructor","CanvasKit","ref","delete","addPath","src","matrix","extend","args","fromValue","JsiSkMatrix","addArc","oval","startAngleInDegrees","sweepAngleInDegrees","JsiSkRect","addOval","isCCW","startIndex","countPoints","addPoly","points","close","map","p","Array","from","JsiSkPoint","flat","moveTo","x","y","lineTo","makeAsWinding","result","offset","dx","dy","rArcTo","rx","ry","xAxisRotateInDegrees","useSmallArc","rConicTo","dx1","dy1","dx2","dy2","w","rCubicTo","cpx1","cpy1","cpx2","cpy2","rMoveTo","rLineTo","rQuadTo","x1","y1","x2","y2","setFillType","fill","getEnum","FillType","setIsVolatile","volatile","stroke","opts","undefined","width","miter_limit","precision","join","optEnum","StrokeJoin","cap","StrokeCap","reset","rewind","computeTightBounds","arcToOval","forceMoveTo","arcToRotated","arcToTangent","radius","conicTo","contains","copy","cubicTo","dash","on","off","phase","equals","other","getBounds","getFillType","quadTo","addRect","rect","addRRect","rrect","JsiSkRRect","getPoint","index","isEmpty","isVolatile","addCircle","getLastPt","op","path","PathOp","simplify","toSVGString","trim","start","stop","isComplement","startT","stopT","transform","m","length","Error","interpolate","end","output","Path","MakeFromPathInterpolation","isInterpolatable","path2","CanInterpolate","toCmds","cmds","reduce","acc","cmd","push","current","exports"],"sources":["JsiSkPath.ts"],"sourcesContent":["import type { CanvasKit, Matrix3x3, Path } from \"canvaskit-wasm\";\n\nimport { PathVerb } from \"../types\";\nimport type {\n  FillType,\n  PathCommand,\n  PathOp,\n  SkMatrix,\n  SkPath,\n  SkPoint,\n  SkRect,\n  InputRRect,\n  StrokeOpts,\n  InputMatrix,\n} from \"../types\";\n\nimport { getEnum, HostObject, optEnum } from \"./Host\";\nimport { JsiSkPoint } from \"./JsiSkPoint\";\nimport { JsiSkRect } from \"./JsiSkRect\";\nimport { JsiSkRRect } from \"./JsiSkRRect\";\nimport { JsiSkMatrix } from \"./JsiSkMatrix\";\n\nconst CommandCount = {\n  [PathVerb.Move]: 3,\n  [PathVerb.Line]: 3,\n  [PathVerb.Quad]: 5,\n  [PathVerb.Conic]: 6,\n  [PathVerb.Cubic]: 7,\n  [PathVerb.Close]: 1,\n};\n\nconst pinT = (t: number) => Math.min(Math.max(t, 0), 1);\n\nexport class JsiSkPath extends HostObject<Path, \"Path\"> implements SkPath {\n  constructor(CanvasKit: CanvasKit, ref: Path) {\n    super(CanvasKit, ref, \"Path\");\n  }\n\n  dispose = () => {\n    this.ref.delete();\n  };\n\n  addPath(src: SkPath, matrix?: SkMatrix, extend = false) {\n    const args = [\n      JsiSkPath.fromValue(src),\n      ...(matrix ? JsiSkMatrix.fromValue<Float32Array>(matrix) : []),\n      extend,\n    ];\n    this.ref.addPath(...args);\n    return this;\n  }\n\n  addArc(\n    oval: SkRect,\n    startAngleInDegrees: number,\n    sweepAngleInDegrees: number\n  ) {\n    this.ref.addArc(\n      JsiSkRect.fromValue(this.CanvasKit, oval),\n      startAngleInDegrees,\n      sweepAngleInDegrees\n    );\n    return this;\n  }\n\n  addOval(oval: SkRect, isCCW?: boolean, startIndex?: number) {\n    this.ref.addOval(\n      JsiSkRect.fromValue(this.CanvasKit, oval),\n      isCCW,\n      startIndex\n    );\n    return this;\n  }\n\n  countPoints() {\n    return this.ref.countPoints();\n  }\n\n  addPoly(points: SkPoint[], close: boolean) {\n    this.ref.addPoly(\n      points.map((p) => Array.from(JsiSkPoint.fromValue(p))).flat(),\n      close\n    );\n    return this;\n  }\n\n  moveTo(x: number, y: number) {\n    this.ref.moveTo(x, y);\n    return this;\n  }\n\n  lineTo(x: number, y: number) {\n    this.ref.lineTo(x, y);\n    return this;\n  }\n\n  makeAsWinding() {\n    const result = this.ref.makeAsWinding();\n    return result === null ? result : this;\n  }\n\n  offset(dx: number, dy: number) {\n    this.ref.offset(dx, dy);\n    return this;\n  }\n\n  rArcTo(\n    rx: number,\n    ry: number,\n    xAxisRotateInDegrees: number,\n    useSmallArc: boolean,\n    isCCW: boolean,\n    dx: number,\n    dy: number\n  ) {\n    this.ref.rArcTo(rx, ry, xAxisRotateInDegrees, useSmallArc, isCCW, dx, dy);\n    return this;\n  }\n\n  rConicTo(dx1: number, dy1: number, dx2: number, dy2: number, w: number) {\n    this.ref.rConicTo(dx1, dy1, dx2, dy2, w);\n    return this;\n  }\n\n  rCubicTo(\n    cpx1: number,\n    cpy1: number,\n    cpx2: number,\n    cpy2: number,\n    x: number,\n    y: number\n  ) {\n    this.ref.rCubicTo(cpx1, cpy1, cpx2, cpy2, x, y);\n    return this;\n  }\n\n  rMoveTo(x: number, y: number) {\n    this.ref.rMoveTo(x, y);\n    return this;\n  }\n\n  rLineTo(x: number, y: number) {\n    this.ref.rLineTo(x, y);\n    return this;\n  }\n\n  rQuadTo(x1: number, y1: number, x2: number, y2: number) {\n    this.ref.rQuadTo(x1, y1, x2, y2);\n    return this;\n  }\n\n  setFillType(fill: FillType) {\n    this.ref.setFillType(getEnum(this.CanvasKit.FillType, fill));\n    return this;\n  }\n\n  setIsVolatile(volatile: boolean) {\n    this.ref.setIsVolatile(volatile);\n    return this;\n  }\n\n  stroke(opts?: StrokeOpts) {\n    const result = this.ref.stroke(\n      opts === undefined\n        ? undefined\n        : {\n            width: opts.width,\n            // eslint-disable-next-line camelcase\n            miter_limit: opts.width,\n            precision: opts.width,\n            join: optEnum(this.CanvasKit.StrokeJoin, opts.join),\n            cap: optEnum(this.CanvasKit.StrokeCap, opts.cap),\n          }\n    );\n    return result === null ? result : this;\n  }\n\n  close() {\n    this.ref.close();\n    return this;\n  }\n\n  reset() {\n    this.ref.reset();\n    return this;\n  }\n\n  rewind() {\n    this.ref.rewind();\n    return this;\n  }\n\n  computeTightBounds(): SkRect {\n    return new JsiSkRect(this.CanvasKit, this.ref.computeTightBounds());\n  }\n\n  arcToOval(\n    oval: SkRect,\n    startAngleInDegrees: number,\n    sweepAngleInDegrees: number,\n    forceMoveTo: boolean\n  ) {\n    this.ref.arcToOval(\n      JsiSkRect.fromValue(this.CanvasKit, oval),\n      startAngleInDegrees,\n      sweepAngleInDegrees,\n      forceMoveTo\n    );\n    return this;\n  }\n\n  arcToRotated(\n    rx: number,\n    ry: number,\n    xAxisRotateInDegrees: number,\n    useSmallArc: boolean,\n    isCCW: boolean,\n    x: number,\n    y: number\n  ) {\n    this.ref.arcToRotated(\n      rx,\n      ry,\n      xAxisRotateInDegrees,\n      useSmallArc,\n      isCCW,\n      x,\n      y\n    );\n    return this;\n  }\n\n  arcToTangent(x1: number, y1: number, x2: number, y2: number, radius: number) {\n    this.ref.arcToTangent(x1, y1, x2, y2, radius);\n    return this;\n  }\n\n  conicTo(x1: number, y1: number, x2: number, y2: number, w: number) {\n    this.ref.conicTo(x1, y1, x2, y2, w);\n    return this;\n  }\n\n  contains(x: number, y: number) {\n    return this.ref.contains(x, y);\n  }\n\n  copy() {\n    return new JsiSkPath(this.CanvasKit, this.ref.copy());\n  }\n\n  cubicTo(\n    cpx1: number,\n    cpy1: number,\n    cpx2: number,\n    cpy2: number,\n    x: number,\n    y: number\n  ) {\n    this.ref.cubicTo(cpx1, cpy1, cpx2, cpy2, x, y);\n    return this;\n  }\n\n  dash(on: number, off: number, phase: number) {\n    return this.ref.dash(on, off, phase);\n  }\n\n  equals(other: SkPath) {\n    return this.ref.equals(JsiSkPath.fromValue(other));\n  }\n\n  getBounds() {\n    return new JsiSkRect(this.CanvasKit, this.ref.getBounds());\n  }\n\n  getFillType() {\n    return this.ref.getFillType().value;\n  }\n\n  quadTo(x1: number, y1: number, x2: number, y2: number) {\n    this.ref.quadTo(x1, y1, x2, y2);\n    return this;\n  }\n\n  addRect(rect: SkRect, isCCW?: boolean) {\n    this.ref.addRect(JsiSkRect.fromValue(this.CanvasKit, rect), isCCW);\n    return this;\n  }\n\n  addRRect(rrect: InputRRect, isCCW?: boolean) {\n    this.ref.addRRect(JsiSkRRect.fromValue(this.CanvasKit, rrect), isCCW);\n    return this;\n  }\n\n  getPoint(index: number) {\n    return new JsiSkPoint(this.CanvasKit, this.ref.getPoint(index));\n  }\n\n  isEmpty() {\n    return this.ref.isEmpty();\n  }\n\n  isVolatile() {\n    return this.ref.isVolatile();\n  }\n\n  addCircle(x: number, y: number, r: number) {\n    this.ref.addCircle(x, y, r);\n    return this;\n  }\n\n  getLastPt() {\n    return new JsiSkPoint(\n      this.CanvasKit,\n      this.ref.getPoint(this.ref.countPoints() - 1)\n    );\n  }\n\n  op(path: SkPath, op: PathOp) {\n    return this.ref.op(\n      JsiSkPath.fromValue(path),\n      getEnum(this.CanvasKit.PathOp, op)\n    );\n  }\n\n  simplify() {\n    return this.ref.simplify();\n  }\n\n  toSVGString() {\n    return this.ref.toSVGString();\n  }\n\n  trim(start: number, stop: number, isComplement: boolean) {\n    const startT = pinT(start);\n    const stopT = pinT(stop);\n    if (startT === 0 && stopT === 1) {\n      return this;\n    }\n    const result = this.ref.trim(startT, stopT, isComplement);\n    return result === null ? result : this;\n  }\n\n  transform(m: InputMatrix) {\n    let matrix =\n      m instanceof JsiSkMatrix\n        ? Array.from(JsiSkMatrix.fromValue<Matrix3x3>(m))\n        : (m as Exclude<InputMatrix, SkMatrix>);\n    if (matrix.length === 16) {\n      matrix = [\n        matrix[0],\n        matrix[1],\n        matrix[3],\n        matrix[4],\n        matrix[5],\n        matrix[7],\n        matrix[12],\n        matrix[13],\n        matrix[15],\n      ];\n    } else if (matrix.length !== 9) {\n      throw new Error(`Invalid matrix length: ${matrix.length}`);\n    }\n    this.ref.transform(matrix);\n    return this;\n  }\n\n  interpolate(end: SkPath, t: number, output?: SkPath) {\n    const path = this.CanvasKit.Path.MakeFromPathInterpolation(\n      this.ref,\n      JsiSkPath.fromValue(end),\n      t\n    );\n    if (path === null) {\n      return null;\n    }\n    if (output) {\n      (output as JsiSkPath).ref = path;\n      return output;\n    } else {\n      return new JsiSkPath(this.CanvasKit, path);\n    }\n  }\n\n  isInterpolatable(path2: SkPath): boolean {\n    return this.CanvasKit.Path.CanInterpolate(\n      this.ref,\n      JsiSkPath.fromValue(path2)\n    );\n  }\n\n  toCmds() {\n    const cmds = this.ref.toCmds();\n    const result = cmds.reduce<PathCommand[]>((acc, cmd, i) => {\n      if (i === 0) {\n        acc.push([]);\n      }\n      const current = acc[acc.length - 1];\n      if (current.length === 0) {\n        current.push(cmd);\n        const length = CommandCount[current[0] as PathVerb];\n        if (current.length === length && i !== cmds.length - 1) {\n          acc.push([]);\n        }\n      } else {\n        const length = CommandCount[current[0] as PathVerb];\n        if (current.length < length) {\n          current.push(cmd);\n        }\n        if (current.length === length && i !== cmds.length - 1) {\n          acc.push([]);\n        }\n      }\n      return acc;\n    }, []);\n    return result;\n  }\n}\n"],"mappings":"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"}