{"version":3,"names":["_Host","require","_JsiSkPaint","_JsiSkRect","_JsiSkRRect","_JsiSkImage","_JsiSkVertices","_JsiSkPath","_JsiSkFont","_JsiSkTextBlob","_JsiSkPicture","_JsiSkMatrix","_JsiSkImageFilter","_JsiSkPoint","_JsiSkRSXform","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","t","i","_toPrimitive","String","r","e","Symbol","toPrimitive","call","TypeError","Number","JsiSkCanvas","HostObject","constructor","CanvasKit","ref","delete","drawRect","rect","paint","JsiSkRect","fromValue","JsiSkPaint","drawImage","image","x","y","JsiSkImage","drawImageRect","img","src","dest","fastSample","drawImageCubic","left","top","B","C","drawImageOptions","fm","mm","getEnum","FilterMode","MipmapMode","drawImageNine","center","filter","Array","from","drawImageRectCubic","drawImageRectOptions","drawPaint","drawLine","x0","y0","x1","y1","drawCircle","cx","cy","radius","drawVertices","verts","mode","JsiSkVertices","BlendMode","drawPatch","cubics","colors","texs","map","flat","flatMap","p","JsiSkPoint","undefined","restoreToCount","saveCount","drawPoints","points","PointMode","drawArc","oval","startAngle","sweepAngle","useCenter","drawRRect","rrect","JsiSkRRect","drawDRRect","outer","inner","drawOval","drawPath","path","JsiSkPath","drawText","str","font","JsiSkFont","drawTextBlob","blob","JsiSkTextBlob","drawGlyphs","glyphs","positions","drawSvg","_svgDom","_width","_height","Error","save","saveLayer","bounds","backdrop","flags","JsiSkImageFilter","restore","rotate","rotationInDegrees","rx","ry","scale","sx","sy","skew","translate","dx","dy","drawColor","color","blendMode","clear","clipPath","op","doAntiAlias","PathOp","clipRect","clipRRect","concat","m","isArray","JsiSkMatrix","drawPicture","skp","JsiSkPicture","drawAtlas","atlas","srcs","dsts","_sampling","s","dst","JsiSkRSXform","cls","Uint32Array","length","g","b","a","ColorAsInt","DstOver","readPixels","srcX","srcY","imageInfo","pxInfo","width","height","colorSpace","ColorSpace","SRGB","alphaType","AlphaType","colorType","ColorType","exports"],"sources":["JsiSkCanvas.ts"],"sourcesContent":["import type { Canvas, CanvasKit } from \"canvaskit-wasm\";\n\nimport {\n  type BlendMode,\n  type ClipOp,\n  type FilterMode,\n  type MipmapMode,\n  type PointMode,\n  type SaveLayerFlag,\n  type ImageInfo,\n  type SkCanvas,\n  type SkColor,\n  type SkFont,\n  type SkImage,\n  type SkImageFilter,\n  type SkMatrix,\n  type SkPaint,\n  type SkPath,\n  type SkPicture,\n  type SkPoint,\n  type SkRect,\n  type InputRRect,\n  type SkSVG,\n  type SkTextBlob,\n  type SkVertices,\n  type SkRSXform,\n  type CubicResampler,\n  type FilterOptions,\n} from \"../types\";\n\nimport { getEnum, HostObject } from \"./Host\";\nimport { JsiSkPaint } from \"./JsiSkPaint\";\nimport { JsiSkRect } from \"./JsiSkRect\";\nimport { JsiSkRRect } from \"./JsiSkRRect\";\nimport { JsiSkImage } from \"./JsiSkImage\";\nimport { JsiSkVertices } from \"./JsiSkVertices\";\nimport { JsiSkPath } from \"./JsiSkPath\";\nimport { JsiSkFont } from \"./JsiSkFont\";\nimport { JsiSkTextBlob } from \"./JsiSkTextBlob\";\nimport { JsiSkPicture } from \"./JsiSkPicture\";\nimport { JsiSkMatrix } from \"./JsiSkMatrix\";\nimport { JsiSkImageFilter } from \"./JsiSkImageFilter\";\nimport { JsiSkPoint } from \"./JsiSkPoint\";\nimport { JsiSkRSXform } from \"./JsiSkRSXform\";\n\nexport class JsiSkCanvas\n  extends HostObject<Canvas, \"Canvas\">\n  implements SkCanvas\n{\n  constructor(CanvasKit: CanvasKit, ref: Canvas) {\n    super(CanvasKit, ref, \"Canvas\");\n  }\n\n  dispose = () => {\n    this.ref.delete();\n  };\n\n  drawRect(rect: SkRect, paint: SkPaint) {\n    this.ref.drawRect(\n      JsiSkRect.fromValue(this.CanvasKit, rect),\n      JsiSkPaint.fromValue(paint)\n    );\n  }\n\n  drawImage(image: SkImage, x: number, y: number, paint?: SkPaint) {\n    this.ref.drawImage(\n      JsiSkImage.fromValue(image),\n      x,\n      y,\n      paint ? JsiSkPaint.fromValue(paint) : paint\n    );\n  }\n\n  drawImageRect(\n    img: SkImage,\n    src: SkRect,\n    dest: SkRect,\n    paint: SkPaint,\n    fastSample?: boolean\n  ) {\n    this.ref.drawImageRect(\n      JsiSkImage.fromValue(img),\n      JsiSkRect.fromValue(this.CanvasKit, src),\n      JsiSkRect.fromValue(this.CanvasKit, dest),\n      JsiSkPaint.fromValue(paint),\n      fastSample\n    );\n  }\n\n  drawImageCubic(\n    img: SkImage,\n    left: number,\n    top: number,\n    B: number,\n    C: number,\n    paint?: SkPaint | null\n  ) {\n    this.ref.drawImageCubic(\n      JsiSkImage.fromValue(img),\n      left,\n      top,\n      B,\n      C,\n      paint ? JsiSkPaint.fromValue(paint) : paint\n    );\n  }\n\n  drawImageOptions(\n    img: SkImage,\n    left: number,\n    top: number,\n    fm: FilterMode,\n    mm: MipmapMode,\n    paint?: SkPaint | null\n  ) {\n    this.ref.drawImageOptions(\n      JsiSkImage.fromValue(img),\n      left,\n      top,\n      getEnum(this.CanvasKit.FilterMode, fm),\n      getEnum(this.CanvasKit.MipmapMode, mm),\n      paint ? JsiSkPaint.fromValue(paint) : paint\n    );\n  }\n\n  drawImageNine(\n    img: SkImage,\n    center: SkRect,\n    dest: SkRect,\n    filter: FilterMode,\n    paint?: SkPaint | null\n  ) {\n    this.ref.drawImageNine(\n      JsiSkImage.fromValue(img),\n      Array.from(JsiSkRect.fromValue(this.CanvasKit, center)),\n      JsiSkRect.fromValue(this.CanvasKit, dest),\n      getEnum(this.CanvasKit.FilterMode, filter),\n      paint ? JsiSkPaint.fromValue(paint) : paint\n    );\n  }\n\n  drawImageRectCubic(\n    img: SkImage,\n    src: SkRect,\n    dest: SkRect,\n    B: number,\n    C: number,\n    paint?: SkPaint | null\n  ) {\n    this.ref.drawImageRectCubic(\n      JsiSkImage.fromValue(img),\n      JsiSkRect.fromValue(this.CanvasKit, src),\n      JsiSkRect.fromValue(this.CanvasKit, dest),\n      B,\n      C,\n      paint ? JsiSkPaint.fromValue(paint) : paint\n    );\n  }\n\n  drawImageRectOptions(\n    img: SkImage,\n    src: SkRect,\n    dest: SkRect,\n    fm: FilterMode,\n    mm: MipmapMode,\n    paint?: SkPaint | null\n  ) {\n    this.ref.drawImageRectOptions(\n      JsiSkImage.fromValue(img),\n      JsiSkRect.fromValue(this.CanvasKit, src),\n      JsiSkRect.fromValue(this.CanvasKit, dest),\n      getEnum(this.CanvasKit.FilterMode, fm),\n      getEnum(this.CanvasKit.MipmapMode, mm),\n      paint ? JsiSkPaint.fromValue(paint) : paint\n    );\n  }\n\n  drawPaint(paint: SkPaint) {\n    this.ref.drawPaint(JsiSkPaint.fromValue(paint));\n  }\n\n  drawLine(x0: number, y0: number, x1: number, y1: number, paint: SkPaint) {\n    this.ref.drawLine(x0, y0, x1, y1, JsiSkPaint.fromValue(paint));\n  }\n\n  drawCircle(cx: number, cy: number, radius: number, paint: SkPaint) {\n    this.ref.drawCircle(cx, cy, radius, JsiSkPaint.fromValue(paint));\n  }\n\n  drawVertices(verts: SkVertices, mode: BlendMode, paint: SkPaint) {\n    this.ref.drawVertices(\n      JsiSkVertices.fromValue(verts),\n      getEnum(this.CanvasKit.BlendMode, mode),\n      JsiSkPaint.fromValue(paint)\n    );\n  }\n\n  drawPatch(\n    cubics: SkPoint[],\n    colors?: SkColor[] | null,\n    texs?: SkPoint[] | null,\n    mode?: BlendMode | null,\n    paint?: SkPaint\n  ) {\n    this.ref.drawPatch(\n      cubics.map(({ x, y }) => [x, y]).flat(),\n      colors,\n      texs ? texs.flatMap((p) => Array.from(JsiSkPoint.fromValue(p))) : texs,\n      mode ? getEnum(this.CanvasKit.BlendMode, mode) : null,\n      paint ? JsiSkPaint.fromValue(paint) : undefined\n    );\n  }\n\n  restoreToCount(saveCount: number) {\n    this.ref.restoreToCount(saveCount);\n  }\n\n  drawPoints(mode: PointMode, points: SkPoint[], paint: SkPaint) {\n    this.ref.drawPoints(\n      getEnum(this.CanvasKit.PointMode, mode),\n      points.map(({ x, y }) => [x, y]).flat(),\n      JsiSkPaint.fromValue(paint)\n    );\n  }\n\n  drawArc(\n    oval: SkRect,\n    startAngle: number,\n    sweepAngle: number,\n    useCenter: boolean,\n    paint: SkPaint\n  ) {\n    this.ref.drawArc(\n      JsiSkRect.fromValue(this.CanvasKit, oval),\n      startAngle,\n      sweepAngle,\n      useCenter,\n      JsiSkPaint.fromValue(paint)\n    );\n  }\n\n  drawRRect(rrect: InputRRect, paint: SkPaint) {\n    this.ref.drawRRect(\n      JsiSkRRect.fromValue(this.CanvasKit, rrect),\n      JsiSkPaint.fromValue(paint)\n    );\n  }\n\n  drawDRRect(outer: InputRRect, inner: InputRRect, paint: SkPaint) {\n    this.ref.drawDRRect(\n      JsiSkRRect.fromValue(this.CanvasKit, outer),\n      JsiSkRRect.fromValue(this.CanvasKit, inner),\n      JsiSkPaint.fromValue(paint)\n    );\n  }\n\n  drawOval(oval: SkRect, paint: SkPaint) {\n    this.ref.drawOval(\n      JsiSkRect.fromValue(this.CanvasKit, oval),\n      JsiSkPaint.fromValue(paint)\n    );\n  }\n\n  drawPath(path: SkPath, paint: SkPaint) {\n    this.ref.drawPath(JsiSkPath.fromValue(path), JsiSkPaint.fromValue(paint));\n  }\n\n  drawText(str: string, x: number, y: number, paint: SkPaint, font: SkFont) {\n    this.ref.drawText(\n      str,\n      x,\n      y,\n      JsiSkPaint.fromValue(paint),\n      JsiSkFont.fromValue(font)\n    );\n  }\n\n  drawTextBlob(blob: SkTextBlob, x: number, y: number, paint: SkPaint) {\n    this.ref.drawTextBlob(\n      JsiSkTextBlob.fromValue(blob),\n      x,\n      y,\n      JsiSkPaint.fromValue(paint)\n    );\n  }\n\n  drawGlyphs(\n    glyphs: number[],\n    positions: SkPoint[],\n    x: number,\n    y: number,\n    font: SkFont,\n    paint: SkPaint\n  ) {\n    this.ref.drawGlyphs(\n      glyphs,\n      positions.map((p) => [p.x, p.y]).flat(),\n      x,\n      y,\n      JsiSkFont.fromValue(font),\n      JsiSkPaint.fromValue(paint)\n    );\n  }\n\n  drawSvg(_svgDom: SkSVG, _width?: number, _height?: number) {\n    throw new Error(\"drawSvg is not implemented on React Native Web\");\n  }\n\n  save() {\n    return this.ref.save();\n  }\n\n  saveLayer(\n    paint?: SkPaint,\n    bounds?: SkRect | null,\n    backdrop?: SkImageFilter | null,\n    flags?: SaveLayerFlag\n  ) {\n    return this.ref.saveLayer(\n      paint ? JsiSkPaint.fromValue(paint) : undefined,\n      bounds ? JsiSkRect.fromValue(this.CanvasKit, bounds) : bounds,\n      backdrop ? JsiSkImageFilter.fromValue(backdrop) : backdrop,\n      flags\n    );\n  }\n\n  restore() {\n    this.ref.restore();\n  }\n\n  rotate(rotationInDegrees: number, rx: number, ry: number) {\n    this.ref.rotate(rotationInDegrees, rx, ry);\n  }\n\n  scale(sx: number, sy: number) {\n    this.ref.scale(sx, sy);\n  }\n\n  skew(sx: number, sy: number) {\n    this.ref.skew(sx, sy);\n  }\n\n  translate(dx: number, dy: number) {\n    this.ref.translate(dx, dy);\n  }\n\n  drawColor(color: SkColor, blendMode?: BlendMode) {\n    this.ref.drawColor(\n      color,\n      blendMode ? getEnum(this.CanvasKit.BlendMode, blendMode) : undefined\n    );\n  }\n\n  clear(color: SkColor) {\n    this.ref.clear(color);\n  }\n\n  clipPath(path: SkPath, op: ClipOp, doAntiAlias: boolean) {\n    this.ref.clipPath(\n      JsiSkPath.fromValue(path),\n      getEnum(this.CanvasKit.PathOp, op),\n      doAntiAlias\n    );\n  }\n\n  clipRect(rect: SkRect, op: ClipOp, doAntiAlias: boolean) {\n    this.ref.clipRect(\n      JsiSkRect.fromValue(this.CanvasKit, rect),\n      getEnum(this.CanvasKit.PathOp, op),\n      doAntiAlias\n    );\n  }\n\n  clipRRect(rrect: InputRRect, op: ClipOp, doAntiAlias: boolean) {\n    this.ref.clipRRect(\n      JsiSkRRect.fromValue(this.CanvasKit, rrect),\n      getEnum(this.CanvasKit.PathOp, op),\n      doAntiAlias\n    );\n  }\n\n  concat(m: SkMatrix | number[]) {\n    this.ref.concat(Array.isArray(m) ? m : JsiSkMatrix.fromValue(m));\n  }\n\n  drawPicture(skp: SkPicture) {\n    this.ref.drawPicture(JsiSkPicture.fromValue(skp));\n  }\n\n  drawAtlas(\n    atlas: SkImage,\n    srcs: SkRect[],\n    dsts: SkRSXform[],\n    paint: SkPaint,\n    blendMode?: BlendMode,\n    colors?: SkColor[],\n    _sampling?: CubicResampler | FilterOptions\n  ) {\n    const src = srcs.flatMap((s) =>\n      Array.from(JsiSkRect.fromValue(this.CanvasKit, s))\n    );\n    const dst = dsts.flatMap((s) => Array.from(JsiSkRSXform.fromValue(s)));\n    let cls: Uint32Array | undefined;\n    if (colors) {\n      cls = new Uint32Array(colors.length);\n      for (let i = 0; i < colors.length; i++) {\n        const [r, g, b, a] = colors[i];\n        cls[i] = this.CanvasKit.ColorAsInt(r * 255, g * 255, b * 255, a * 255);\n      }\n    }\n    this.ref.drawAtlas(\n      JsiSkImage.fromValue(atlas),\n      src,\n      dst,\n      JsiSkPaint.fromValue(paint),\n      blendMode\n        ? getEnum(this.CanvasKit.BlendMode, blendMode)\n        : this.CanvasKit.BlendMode.DstOver,\n      cls\n    );\n  }\n\n  readPixels(srcX: number, srcY: number, imageInfo: ImageInfo) {\n    const pxInfo = {\n      width: imageInfo.width,\n      height: imageInfo.height,\n      colorSpace: this.CanvasKit.ColorSpace.SRGB,\n      alphaType: getEnum(this.CanvasKit.AlphaType, imageInfo.alphaType),\n      colorType: getEnum(this.CanvasKit.ColorType, imageInfo.colorType),\n    };\n    return this.ref.readPixels(srcX, srcY, pxInfo);\n  }\n}\n"],"mappings":"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"}