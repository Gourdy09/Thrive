{"version":3,"names":["_types","require","_Enum","_Node","_DeclarationContext","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","t","i","_toPrimitive","String","r","e","Symbol","toPrimitive","call","TypeError","Number","JsiDrawingContext","constructor","Skia","canvas","paint","Paint","paints","declarationCtx","DeclarationContext","length","save","childPaint","copy","push","restore","pop","saveAndConcat","node","cache","ConcatablePaint","isPristine","concatTo","exports","declCtx","props","getProps","children","setColor","color","undefined","Color","setStrokeWidth","strokeWidth","setBlendMode","blendMode","setStyle","style","setStrokeJoin","strokeJoin","setStrokeCap","strokeCap","setStrokeMiter","strokeMiter","setOpacity","opacity","setAntiAlias","antiAlias","setDither","dither","forEach","child","JsiDeclarationNode","decorate","colorFilter","colorFilters","popAllAsOne","imageFilter","imageFilters","shader","shaders","maskFilter","maskFilters","pathEffect","pathEffects","setImageFilter","setShader","setPathEffect","setColorFilter","setMaskFilter","enum","enumKey","setValue","pristine","getColor","_color","getStrokeWidth","_strokeWidth","BlendMode","getBlendMode","_blendMode","PaintStyle","getStyle","_style","StrokeJoin","getStrokeJoin","_strokeJoin","StrokeCap","getStrokeCap","_strokeCap","getStrokeMiter","_strokeMiter","getOpacity","_opacity","getAntiAlias","_antiAlias","getDither","_dither","getImageFilter","_imageFilter","getShader","_shader","getPathEffect","_pathEffect","getColorFilter","_colorFilter","getMaskFilter","_maskFilter","setAlphaf","getAlphaf","currentOpacity"],"sources":["DrawingContext.ts"],"sourcesContent":["import type {\n  SkCanvas,\n  SkColor,\n  SkColorFilter,\n  SkImageFilter,\n  SkMaskFilter,\n  SkPaint,\n  SkPathEffect,\n  SkShader,\n  Skia,\n} from \"../../skia/types\";\nimport { BlendMode, PaintStyle, StrokeCap, StrokeJoin } from \"../../skia/types\";\nimport { enumKey } from \"../nodes/datatypes/Enum\";\nimport { JsiDeclarationNode } from \"../nodes/Node\";\n\nimport type { PaintProps, SkEnum } from \"./Common\";\nimport { DeclarationContext } from \"./DeclarationContext\";\nimport type { Node } from \"./Node\";\n\nexport interface DrawingContext {\n  canvas: SkCanvas;\n  paint: SkPaint;\n  saveAndConcat(node: Node<PaintProps>, cache?: SkPaint): boolean;\n  restore(): void;\n  declarationCtx: DeclarationContext;\n}\n\nexport class JsiDrawingContext implements DrawingContext {\n  paints: SkPaint[];\n\n  declarationCtx: DeclarationContext;\n\n  constructor(private readonly Skia: Skia, public readonly canvas: SkCanvas) {\n    const paint = this.Skia.Paint();\n    this.paints = [paint];\n    this.declarationCtx = new DeclarationContext(Skia);\n  }\n\n  get paint() {\n    return this.paints[this.paints.length - 1];\n  }\n\n  private save() {\n    const childPaint = this.paint.copy();\n    this.paints.push(childPaint);\n  }\n\n  restore(): void {\n    this.paints.pop();\n  }\n\n  saveAndConcat(node: Node<PaintProps>, cache?: SkPaint) {\n    if (cache) {\n      this.paints.push(cache);\n      return true;\n    }\n    const paint = new ConcatablePaint(this.Skia, this.declarationCtx, node);\n    if (!paint.isPristine()) {\n      this.save();\n      paint.concatTo(this.paint);\n      return true;\n    }\n    return false;\n  }\n}\n\nclass ConcatablePaint {\n  private pristine = true;\n\n  _color?: SkColor;\n  _strokeWidth?: number;\n  _blendMode?: BlendMode;\n  _style?: PaintStyle;\n  _strokeJoin?: StrokeJoin;\n  _strokeCap?: StrokeCap;\n  _strokeMiter?: number;\n  _opacity = 1;\n  _antiAlias?: boolean;\n  _dither?: boolean;\n\n  _imageFilter?: SkImageFilter;\n  _shader?: SkShader;\n  _pathEffect?: SkPathEffect;\n  _colorFilter?: SkColorFilter;\n  _maskFilter?: SkMaskFilter;\n\n  constructor(Skia: Skia, declCtx: DeclarationContext, node: Node<PaintProps>) {\n    const props = node.getProps();\n    const children = node.children();\n    this.setColor(\n      props.color !== undefined ? Skia.Color(props.color) : props.color\n    );\n    this.setStrokeWidth(props.strokeWidth);\n    this.setBlendMode(props.blendMode);\n    this.setStyle(props.style);\n    this.setStrokeJoin(props.strokeJoin);\n    this.setStrokeCap(props.strokeCap);\n    this.setStrokeMiter(props.strokeMiter);\n    this.setOpacity(props.opacity);\n    this.setAntiAlias(props.antiAlias);\n    this.setDither(props.dither);\n    declCtx.save();\n    children.forEach((child) => {\n      if (child instanceof JsiDeclarationNode) {\n        child.decorate(declCtx);\n      }\n    });\n    const colorFilter = declCtx.colorFilters.popAllAsOne();\n    const imageFilter = declCtx.imageFilters.popAllAsOne();\n    const shader = declCtx.shaders.pop();\n    const maskFilter = declCtx.maskFilters.pop();\n    const pathEffect = declCtx.pathEffects.popAllAsOne();\n    declCtx.restore();\n    if (imageFilter) {\n      this.setImageFilter(imageFilter);\n    }\n    if (shader) {\n      this.setShader(shader);\n    }\n    if (pathEffect) {\n      this.setPathEffect(pathEffect);\n    }\n    if (colorFilter) {\n      this.setColorFilter(colorFilter);\n    }\n    if (maskFilter) {\n      this.setMaskFilter(maskFilter);\n    }\n  }\n\n  private enum<T>(value: T, key?: Uncapitalize<string>) {\n    if (key !== undefined) {\n      return value[enumKey(key) as keyof T];\n    }\n    return undefined;\n  }\n\n  private setValue<T extends keyof typeof this>(\n    key: T,\n    value?: (typeof this)[T]\n  ) {\n    if (value !== undefined) {\n      this[key] = value;\n      this.pristine = false;\n    }\n  }\n\n  setColor(color?: SkColor) {\n    this.setValue(\"_color\", color);\n  }\n\n  getColor() {\n    return this._color;\n  }\n\n  setStrokeWidth(strokeWidth?: number) {\n    this.setValue(\"_strokeWidth\", strokeWidth);\n  }\n\n  getStrokeWidth() {\n    return this._strokeWidth;\n  }\n\n  setBlendMode(blendMode?: SkEnum<typeof BlendMode>) {\n    this.setValue(\"_blendMode\", this.enum(BlendMode, blendMode));\n  }\n\n  getBlendMode() {\n    return this._blendMode;\n  }\n\n  setStyle(style?: SkEnum<typeof PaintStyle>) {\n    this.setValue(\"_style\", this.enum(PaintStyle, style));\n  }\n\n  getStyle() {\n    return this._style;\n  }\n\n  setStrokeJoin(strokeJoin?: SkEnum<typeof StrokeJoin>) {\n    this.setValue(\"_strokeJoin\", this.enum(StrokeJoin, strokeJoin));\n  }\n\n  getStrokeJoin() {\n    return this._strokeJoin;\n  }\n\n  setStrokeCap(strokeCap?: SkEnum<typeof StrokeCap>) {\n    this.setValue(\"_strokeCap\", this.enum(StrokeCap, strokeCap));\n  }\n\n  getStrokeCap() {\n    return this._strokeCap;\n  }\n\n  setStrokeMiter(strokeMiter?: number) {\n    this.setValue(\"_strokeMiter\", strokeMiter);\n  }\n\n  getStrokeMiter() {\n    return this._strokeMiter;\n  }\n\n  setOpacity(opacity?: number) {\n    this.setValue(\"_opacity\", opacity);\n  }\n\n  getOpacity() {\n    return this._opacity;\n  }\n\n  setAntiAlias(antiAlias?: boolean) {\n    this.setValue(\"_antiAlias\", antiAlias);\n  }\n\n  getAntiAlias() {\n    return this._antiAlias;\n  }\n\n  setDither(dither?: boolean) {\n    this.setValue(\"_dither\", dither);\n  }\n\n  getDither() {\n    return this._dither;\n  }\n\n  setImageFilter(imageFilter?: SkImageFilter) {\n    this.setValue(\"_imageFilter\", imageFilter);\n  }\n\n  getImageFilter() {\n    return this._imageFilter;\n  }\n\n  setShader(shader?: SkShader) {\n    this.setValue(\"_shader\", shader);\n  }\n\n  getShader() {\n    return this._shader;\n  }\n\n  setPathEffect(pathEffect?: SkPathEffect) {\n    this.setValue(\"_pathEffect\", pathEffect);\n  }\n\n  getPathEffect() {\n    return this._pathEffect;\n  }\n\n  setColorFilter(colorFilter?: SkColorFilter) {\n    this.setValue(\"_colorFilter\", colorFilter);\n  }\n\n  getColorFilter() {\n    return this._colorFilter;\n  }\n\n  setMaskFilter(maskFilter?: SkMaskFilter) {\n    this.setValue(\"_maskFilter\", maskFilter);\n  }\n\n  getMaskFilter() {\n    return this._maskFilter;\n  }\n\n  isPristine() {\n    return this.pristine;\n  }\n\n  concatTo(paint: SkPaint) {\n    if (this._opacity !== undefined) {\n      paint.setAlphaf(paint.getAlphaf() * this._opacity);\n    }\n    if (this._color !== undefined) {\n      const currentOpacity = paint.getAlphaf();\n      paint.setShader(null);\n      paint.setColor(this._color);\n      paint.setAlphaf(currentOpacity * paint.getAlphaf());\n    }\n    if (this._strokeWidth !== undefined) {\n      paint.setStrokeWidth(this._strokeWidth);\n    }\n    if (this._blendMode !== undefined) {\n      paint.setBlendMode(this._blendMode);\n    }\n    if (this._style !== undefined) {\n      paint.setStyle(this._style);\n    }\n    if (this._strokeJoin !== undefined) {\n      paint.setStrokeJoin(this._strokeJoin);\n    }\n    if (this._strokeCap !== undefined) {\n      paint.setStrokeCap(this._strokeCap);\n    }\n    if (this._strokeMiter !== undefined) {\n      paint.setStrokeMiter(this._strokeMiter);\n    }\n    if (this._antiAlias !== undefined) {\n      paint.setAntiAlias(this._antiAlias);\n    }\n    if (this._dither !== undefined) {\n      paint.setDither(this._dither);\n    }\n    if (this._imageFilter !== undefined) {\n      paint.setImageFilter(this._imageFilter);\n    }\n    if (this._shader !== undefined) {\n      paint.setShader(this._shader);\n    }\n    if (this._pathEffect !== undefined) {\n      paint.setPathEffect(this._pathEffect);\n    }\n    if (this._colorFilter !== undefined) {\n      paint.setColorFilter(this._colorFilter);\n    }\n    if (this._maskFilter !== undefined) {\n      paint.setMaskFilter(this._maskFilter);\n    }\n  }\n}\n"],"mappings":"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"}