{"version":3,"names":["_types","require","_types2","_datatypes","_DrawingNode","VerticesNode","JsiDrawingNode","constructor","ctx","props","NodeType","Vertices","deriveProps","mode","vertices","textures","colors","indices","vertexMode","VertexMode","enumKey","Triangles","Skia","MakeVertices","map","c","Color","undefined","draw","canvas","paint","blendMode","defaultBlendMode","BlendMode","DstOver","SrcOver","blend","derived","Error","drawVertices","exports"],"sources":["VerticesNode.ts"],"sourcesContent":["import type { SkVertices } from \"../../../skia/types\";\nimport { VertexMode, BlendMode } from \"../../../skia/types\";\nimport type { DrawingContext, VerticesProps } from \"../../types\";\nimport { NodeType } from \"../../types\";\nimport { enumKey } from \"../datatypes\";\nimport { JsiDrawingNode } from \"../DrawingNode\";\nimport type { NodeContext } from \"../Node\";\n\nexport class VerticesNode extends JsiDrawingNode<VerticesProps, SkVertices> {\n  constructor(ctx: NodeContext, props: VerticesProps) {\n    super(ctx, NodeType.Vertices, props);\n  }\n\n  protected deriveProps() {\n    const { mode, vertices, textures, colors, indices } = this.props;\n    const vertexMode = mode ? VertexMode[enumKey(mode)] : VertexMode.Triangles;\n    return this.Skia.MakeVertices(\n      vertexMode,\n      vertices,\n      textures,\n      colors ? colors.map((c) => this.Skia.Color(c)) : undefined,\n      indices\n    );\n  }\n\n  draw({ canvas, paint }: DrawingContext) {\n    const { colors, blendMode } = this.props;\n    const defaultBlendMode = colors ? BlendMode.DstOver : BlendMode.SrcOver;\n    const blend = blendMode ? BlendMode[enumKey(blendMode)] : defaultBlendMode;\n    if (this.derived === undefined) {\n      throw new Error(\"VerticesNode: vertices is undefined\");\n    }\n    canvas.drawVertices(this.derived, blend, paint);\n  }\n}\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AAGO,MAAMI,YAAY,SAASC,2BAAc,CAA4B;EAC1EC,WAAWA,CAACC,GAAgB,EAAEC,KAAoB,EAAE;IAClD,KAAK,CAACD,GAAG,EAAEE,gBAAQ,CAACC,QAAQ,EAAEF,KAAK,CAAC;EACtC;EAEUG,WAAWA,CAAA,EAAG;IACtB,MAAM;MAAEC,IAAI;MAAEC,QAAQ;MAAEC,QAAQ;MAAEC,MAAM;MAAEC;IAAQ,CAAC,GAAG,IAAI,CAACR,KAAK;IAChE,MAAMS,UAAU,GAAGL,IAAI,GAAGM,iBAAU,CAAC,IAAAC,kBAAO,EAACP,IAAI,CAAC,CAAC,GAAGM,iBAAU,CAACE,SAAS;IAC1E,OAAO,IAAI,CAACC,IAAI,CAACC,YAAY,CAC3BL,UAAU,EACVJ,QAAQ,EACRC,QAAQ,EACRC,MAAM,GAAGA,MAAM,CAACQ,GAAG,CAAEC,CAAC,IAAK,IAAI,CAACH,IAAI,CAACI,KAAK,CAACD,CAAC,CAAC,CAAC,GAAGE,SAAS,EAC1DV,OACF,CAAC;EACH;EAEAW,IAAIA,CAAC;IAAEC,MAAM;IAAEC;EAAsB,CAAC,EAAE;IACtC,MAAM;MAAEd,MAAM;MAAEe;IAAU,CAAC,GAAG,IAAI,CAACtB,KAAK;IACxC,MAAMuB,gBAAgB,GAAGhB,MAAM,GAAGiB,gBAAS,CAACC,OAAO,GAAGD,gBAAS,CAACE,OAAO;IACvE,MAAMC,KAAK,GAAGL,SAAS,GAAGE,gBAAS,CAAC,IAAAb,kBAAO,EAACW,SAAS,CAAC,CAAC,GAAGC,gBAAgB;IAC1E,IAAI,IAAI,CAACK,OAAO,KAAKV,SAAS,EAAE;MAC9B,MAAM,IAAIW,KAAK,CAAC,qCAAqC,CAAC;IACxD;IACAT,MAAM,CAACU,YAAY,CAAC,IAAI,CAACF,OAAO,EAAED,KAAK,EAAEN,KAAK,CAAC;EACjD;AACF;AAACU,OAAA,CAAAnC,YAAA,GAAAA,YAAA"}