{"version":3,"names":["_types","require","_Enum","_Transform","transformOrigin","origin","transform","translateX","x","translateY","y","exports","processGradientProps","Skia","colors","positions","mode","flags","localMatrix","Matrix","processTransformProps","map","color","Color","TileMode","enumKey","getRect","props","width","height","rect","undefined","XYWHRect"],"sources":["Gradient.ts"],"sourcesContent":["import type { Skia, SkRect, Transforms3d, Vector } from \"../../../skia/types\";\nimport { TileMode } from \"../../../skia/types\";\nimport type { GradientProps, ImageShaderProps } from \"../../types\";\n\nimport { enumKey } from \"./Enum\";\nimport { processTransformProps } from \"./Transform\";\n\nexport const transformOrigin = (origin: Vector, transform: Transforms3d) => [\n  { translateX: origin.x },\n  { translateY: origin.y },\n  ...transform,\n  { translateX: -origin.x },\n  { translateY: -origin.y },\n];\n\nexport const processGradientProps = (\n  Skia: Skia,\n  { colors, positions, mode, flags, ...transform }: GradientProps\n) => {\n  const localMatrix = Skia.Matrix();\n  processTransformProps(localMatrix, transform);\n  return {\n    colors: colors.map((color) => Skia.Color(color)),\n    positions: positions ?? null,\n    mode: TileMode[enumKey(mode ?? \"clamp\")],\n    flags,\n    localMatrix,\n  };\n};\n\nexport const getRect = (\n  Skia: Skia,\n  props: Omit<ImageShaderProps, \"tx\" | \"ty\" | \"fm\" | \"mm\" | \"fit\" | \"image\">\n): SkRect | undefined => {\n  const { x, y, width, height } = props;\n  if (props.rect) {\n    return props.rect;\n  } else if (\n    x !== undefined &&\n    y !== undefined &&\n    width !== undefined &&\n    height !== undefined\n  ) {\n    return Skia.XYWHRect(x, y, width, height);\n  } else {\n    return undefined;\n  }\n};\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,OAAA;AAGA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AAEO,MAAMG,eAAe,GAAGA,CAACC,MAAc,EAAEC,SAAuB,KAAK,CAC1E;EAAEC,UAAU,EAAEF,MAAM,CAACG;AAAE,CAAC,EACxB;EAAEC,UAAU,EAAEJ,MAAM,CAACK;AAAE,CAAC,EACxB,GAAGJ,SAAS,EACZ;EAAEC,UAAU,EAAE,CAACF,MAAM,CAACG;AAAE,CAAC,EACzB;EAAEC,UAAU,EAAE,CAACJ,MAAM,CAACK;AAAE,CAAC,CAC1B;AAACC,OAAA,CAAAP,eAAA,GAAAA,eAAA;AAEK,MAAMQ,oBAAoB,GAAGA,CAClCC,IAAU,EACV;EAAEC,MAAM;EAAEC,SAAS;EAAEC,IAAI;EAAEC,KAAK;EAAE,GAAGX;AAAyB,CAAC,KAC5D;EACH,MAAMY,WAAW,GAAGL,IAAI,CAACM,MAAM,CAAC,CAAC;EACjC,IAAAC,gCAAqB,EAACF,WAAW,EAAEZ,SAAS,CAAC;EAC7C,OAAO;IACLQ,MAAM,EAAEA,MAAM,CAACO,GAAG,CAAEC,KAAK,IAAKT,IAAI,CAACU,KAAK,CAACD,KAAK,CAAC,CAAC;IAChDP,SAAS,EAAEA,SAAS,aAATA,SAAS,cAATA,SAAS,GAAI,IAAI;IAC5BC,IAAI,EAAEQ,eAAQ,CAAC,IAAAC,aAAO,EAACT,IAAI,aAAJA,IAAI,cAAJA,IAAI,GAAI,OAAO,CAAC,CAAC;IACxCC,KAAK;IACLC;EACF,CAAC;AACH,CAAC;AAACP,OAAA,CAAAC,oBAAA,GAAAA,oBAAA;AAEK,MAAMc,OAAO,GAAGA,CACrBb,IAAU,EACVc,KAA0E,KACnD;EACvB,MAAM;IAAEnB,CAAC;IAAEE,CAAC;IAAEkB,KAAK;IAAEC;EAAO,CAAC,GAAGF,KAAK;EACrC,IAAIA,KAAK,CAACG,IAAI,EAAE;IACd,OAAOH,KAAK,CAACG,IAAI;EACnB,CAAC,MAAM,IACLtB,CAAC,KAAKuB,SAAS,IACfrB,CAAC,KAAKqB,SAAS,IACfH,KAAK,KAAKG,SAAS,IACnBF,MAAM,KAAKE,SAAS,EACpB;IACA,OAAOlB,IAAI,CAACmB,QAAQ,CAACxB,CAAC,EAAEE,CAAC,EAAEkB,KAAK,EAAEC,MAAM,CAAC;EAC3C,CAAC,MAAM;IACL,OAAOE,SAAS;EAClB;AACF,CAAC;AAACpB,OAAA,CAAAe,OAAA,GAAAA,OAAA"}