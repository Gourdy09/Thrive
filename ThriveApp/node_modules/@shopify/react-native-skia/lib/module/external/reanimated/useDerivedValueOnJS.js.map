{"version":3,"names":["useEffect","useMemo","Rea","useDerivedValueOnJS","fn","deps","init","value","useSharedValue","mapperId","startMapper","runOnJS","stopMapper"],"sources":["useDerivedValueOnJS.ts"],"sourcesContent":["import { useEffect, useMemo } from \"react\";\n\nimport Rea from \"./ReanimatedProxy\";\n\nexport const useDerivedValueOnJS = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  fn: () => any,\n  deps: unknown[]\n) => {\n  const init = useMemo(() => fn(), [fn]);\n  const value = Rea.useSharedValue(init);\n  useEffect(() => {\n    const mapperId = Rea.startMapper(() => {\n      \"worklet\";\n      Rea.runOnJS(fn)();\n    }, deps);\n    return () => Rea.stopMapper(mapperId);\n  }, [deps, fn]);\n  return value;\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAE1C,OAAOC,GAAG,MAAM,mBAAmB;AAEnC,OAAO,MAAMC,mBAAmB,GAAGA,CAEjCC,EAAa,EACbC,IAAe,KACZ;EACH,MAAMC,IAAI,GAAGL,OAAO,CAAC,MAAMG,EAAE,CAAC,CAAC,EAAE,CAACA,EAAE,CAAC,CAAC;EACtC,MAAMG,KAAK,GAAGL,GAAG,CAACM,cAAc,CAACF,IAAI,CAAC;EACtCN,SAAS,CAAC,MAAM;IACd,MAAMS,QAAQ,GAAGP,GAAG,CAACQ,WAAW,CAAC,MAAM;MACrC,SAAS;;MACTR,GAAG,CAACS,OAAO,CAACP,EAAE,CAAC,CAAC,CAAC;IACnB,CAAC,EAAEC,IAAI,CAAC;IACR,OAAO,MAAMH,GAAG,CAACU,UAAU,CAACH,QAAQ,CAAC;EACvC,CAAC,EAAE,CAACJ,IAAI,EAAED,EAAE,CAAC,CAAC;EACd,OAAOG,KAAK;AACd,CAAC"}