{"version":3,"names":["Host","NotImplementedOnRNWeb","getEnum","JsiSkImageFilter","JsiSkColorFilter","JsiSkImageFilterFactory","constructor","CanvasKit","MakeOffset","dx","dy","input","inputFilter","fromValue","filter","ImageFilter","MakeDisplacementMap","channelX","channelY","scale","in1","ColorChannel","MakeShader","shader","_input","MakeBlur","sigmaX","sigmaY","mode","TileMode","MakeColorFilter","cf","MakeCompose","outer","inner","MakeDropShadow","color","cropRect","MakeDropShadowOnly","MakeErode","rx","ry","MakeDilate","MakeBlend","background","foreground","BlendMode","MakeRuntimeShader","_builder","_childShaderName"],"sources":["JsiSkImageFilterFactory.ts"],"sourcesContent":["import type { CanvasKit, ImageFilter } from \"canvaskit-wasm\";\n\nimport type {\n  ColorChannel,\n  ImageFilterFactory,\n  SkColor,\n  SkColorFilter,\n  SkImageFilter,\n  BlendMode,\n  SkRect,\n  SkRuntimeShaderBuilder,\n  SkShader,\n  TileMode,\n} from \"../types\";\n\nimport { Host, NotImplementedOnRNWeb, getEnum } from \"./Host\";\nimport { JsiSkImageFilter } from \"./JsiSkImageFilter\";\nimport { JsiSkColorFilter } from \"./JsiSkColorFilter\";\n\nexport class JsiSkImageFilterFactory\n  extends Host\n  implements ImageFilterFactory\n{\n  constructor(CanvasKit: CanvasKit) {\n    super(CanvasKit);\n  }\n\n  MakeOffset(dx: number, dy: number, input: SkImageFilter | null) {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    const filter = this.CanvasKit.ImageFilter.MakeOffset(dx, dy, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDisplacementMap(\n    channelX: ColorChannel,\n    channelY: ColorChannel,\n    scale: number,\n    in1: SkImageFilter,\n    input: SkImageFilter | null\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    const filter = this.CanvasKit.ImageFilter.MakeDisplacementMap(\n      getEnum(this.CanvasKit.ColorChannel, channelX),\n      getEnum(this.CanvasKit.ColorChannel, channelY),\n      scale,\n      JsiSkImageFilter.fromValue(in1),\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeShader(shader: SkShader, _input: SkImageFilter | null): SkImageFilter {\n    const filter = this.CanvasKit.ImageFilter.MakeShader(\n      JsiSkImageFilter.fromValue(shader)\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeBlur(\n    sigmaX: number,\n    sigmaY: number,\n    mode: TileMode,\n    input: SkImageFilter | null\n  ) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeBlur(\n        sigmaX,\n        sigmaY,\n        getEnum(this.CanvasKit.TileMode, mode),\n        input === null ? null : JsiSkImageFilter.fromValue(input)\n      )\n    );\n  }\n\n  MakeColorFilter(cf: SkColorFilter, input: SkImageFilter | null) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeColorFilter(\n        JsiSkColorFilter.fromValue(cf),\n        input === null ? null : JsiSkImageFilter.fromValue(input)\n      )\n    );\n  }\n\n  MakeCompose(outer: SkImageFilter | null, inner: SkImageFilter | null) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeCompose(\n        outer === null ? null : JsiSkImageFilter.fromValue(outer),\n        inner === null ? null : JsiSkImageFilter.fromValue(inner)\n      )\n    );\n  }\n\n  MakeDropShadow(\n    dx: number,\n    dy: number,\n    sigmaX: number,\n    sigmaY: number,\n    color: SkColor,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDropShadow(\n      dx,\n      dy,\n      sigmaX,\n      sigmaY,\n      color,\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDropShadowOnly(\n    dx: number,\n    dy: number,\n    sigmaX: number,\n    sigmaY: number,\n    color: SkColor,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDropShadowOnly(\n      dx,\n      dy,\n      sigmaX,\n      sigmaY,\n      color,\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeErode(\n    rx: number,\n    ry: number,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeErode(rx, ry, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDilate(\n    rx: number,\n    ry: number,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDilate(rx, ry, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeBlend(\n    mode: BlendMode,\n    background: SkImageFilter,\n    foreground: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      foreground === null\n        ? null\n        : JsiSkImageFilter.fromValue<ImageFilter>(foreground);\n    if (cropRect) {\n      throw new NotImplementedOnRNWeb(\n        \"The cropRect argument is not yet supported on React Native Web.\"\n      );\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeBlend(\n      getEnum(this.CanvasKit.BlendMode, mode),\n      JsiSkImageFilter.fromValue(background),\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeRuntimeShader(\n    _builder: SkRuntimeShaderBuilder,\n    _childShaderName: string | null,\n    _input: SkImageFilter | null\n  ): SkImageFilter {\n    throw new NotImplementedOnRNWeb();\n  }\n}\n"],"mappings":"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"}