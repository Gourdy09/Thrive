{"version":3,"names":["TileMode","enumKey","processTransformProps","transformOrigin","origin","transform","translateX","x","translateY","y","processGradientProps","Skia","colors","positions","mode","flags","localMatrix","Matrix","map","color","Color","getRect","props","width","height","rect","undefined","XYWHRect"],"sources":["Gradient.ts"],"sourcesContent":["import type { Skia, SkRect, Transforms3d, Vector } from \"../../../skia/types\";\nimport { TileMode } from \"../../../skia/types\";\nimport type { GradientProps, ImageShaderProps } from \"../../types\";\n\nimport { enumKey } from \"./Enum\";\nimport { processTransformProps } from \"./Transform\";\n\nexport const transformOrigin = (origin: Vector, transform: Transforms3d) => [\n  { translateX: origin.x },\n  { translateY: origin.y },\n  ...transform,\n  { translateX: -origin.x },\n  { translateY: -origin.y },\n];\n\nexport const processGradientProps = (\n  Skia: Skia,\n  { colors, positions, mode, flags, ...transform }: GradientProps\n) => {\n  const localMatrix = Skia.Matrix();\n  processTransformProps(localMatrix, transform);\n  return {\n    colors: colors.map((color) => Skia.Color(color)),\n    positions: positions ?? null,\n    mode: TileMode[enumKey(mode ?? \"clamp\")],\n    flags,\n    localMatrix,\n  };\n};\n\nexport const getRect = (\n  Skia: Skia,\n  props: Omit<ImageShaderProps, \"tx\" | \"ty\" | \"fm\" | \"mm\" | \"fit\" | \"image\">\n): SkRect | undefined => {\n  const { x, y, width, height } = props;\n  if (props.rect) {\n    return props.rect;\n  } else if (\n    x !== undefined &&\n    y !== undefined &&\n    width !== undefined &&\n    height !== undefined\n  ) {\n    return Skia.XYWHRect(x, y, width, height);\n  } else {\n    return undefined;\n  }\n};\n"],"mappings":"AACA,SAASA,QAAQ,QAAQ,qBAAqB;AAG9C,SAASC,OAAO,QAAQ,QAAQ;AAChC,SAASC,qBAAqB,QAAQ,aAAa;AAEnD,OAAO,MAAMC,eAAe,GAAGA,CAACC,MAAc,EAAEC,SAAuB,KAAK,CAC1E;EAAEC,UAAU,EAAEF,MAAM,CAACG;AAAE,CAAC,EACxB;EAAEC,UAAU,EAAEJ,MAAM,CAACK;AAAE,CAAC,EACxB,GAAGJ,SAAS,EACZ;EAAEC,UAAU,EAAE,CAACF,MAAM,CAACG;AAAE,CAAC,EACzB;EAAEC,UAAU,EAAE,CAACJ,MAAM,CAACK;AAAE,CAAC,CAC1B;AAED,OAAO,MAAMC,oBAAoB,GAAGA,CAClCC,IAAU,EACV;EAAEC,MAAM;EAAEC,SAAS;EAAEC,IAAI;EAAEC,KAAK;EAAE,GAAGV;AAAyB,CAAC,KAC5D;EACH,MAAMW,WAAW,GAAGL,IAAI,CAACM,MAAM,CAAC,CAAC;EACjCf,qBAAqB,CAACc,WAAW,EAAEX,SAAS,CAAC;EAC7C,OAAO;IACLO,MAAM,EAAEA,MAAM,CAACM,GAAG,CAAEC,KAAK,IAAKR,IAAI,CAACS,KAAK,CAACD,KAAK,CAAC,CAAC;IAChDN,SAAS,EAAEA,SAAS,aAATA,SAAS,cAATA,SAAS,GAAI,IAAI;IAC5BC,IAAI,EAAEd,QAAQ,CAACC,OAAO,CAACa,IAAI,aAAJA,IAAI,cAAJA,IAAI,GAAI,OAAO,CAAC,CAAC;IACxCC,KAAK;IACLC;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAMK,OAAO,GAAGA,CACrBV,IAAU,EACVW,KAA0E,KACnD;EACvB,MAAM;IAAEf,CAAC;IAAEE,CAAC;IAAEc,KAAK;IAAEC;EAAO,CAAC,GAAGF,KAAK;EACrC,IAAIA,KAAK,CAACG,IAAI,EAAE;IACd,OAAOH,KAAK,CAACG,IAAI;EACnB,CAAC,MAAM,IACLlB,CAAC,KAAKmB,SAAS,IACfjB,CAAC,KAAKiB,SAAS,IACfH,KAAK,KAAKG,SAAS,IACnBF,MAAM,KAAKE,SAAS,EACpB;IACA,OAAOf,IAAI,CAACgB,QAAQ,CAACpB,CAAC,EAAEE,CAAC,EAAEc,KAAK,EAAEC,MAAM,CAAC;EAC3C,CAAC,MAAM;IACL,OAAOE,SAAS;EAClB;AACF,CAAC"}