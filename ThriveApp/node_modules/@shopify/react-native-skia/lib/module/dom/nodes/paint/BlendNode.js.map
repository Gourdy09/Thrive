{"version":3,"names":["BlendMode","DeclarationType","NodeType","JsiDeclarationNode","enumKey","composeDeclarations","BlendNode","constructor","ctx","props","ImageFilter","Blend","decorate","decorateChildren","Skia","blend","mode","imageFilters","popAll","length","composer","MakeBlend","bind","push","shaders","Shader"],"sources":["BlendNode.ts"],"sourcesContent":["import type { BlendProps } from \"../../types/ImageFilters\";\nimport { BlendMode } from \"../../../skia/types\";\nimport { DeclarationType, NodeType } from \"../../types/NodeType\";\nimport type { NodeContext } from \"../Node\";\nimport { JsiDeclarationNode } from \"../Node\";\nimport { enumKey } from \"../datatypes\";\nimport type { DeclarationContext } from \"../../types/DeclarationContext\";\nimport { composeDeclarations } from \"../../types/DeclarationContext\";\n\nexport class BlendNode extends JsiDeclarationNode<BlendProps> {\n  constructor(ctx: NodeContext, props: BlendProps) {\n    super(ctx, DeclarationType.ImageFilter, NodeType.Blend, props);\n  }\n\n  decorate(ctx: DeclarationContext) {\n    this.decorateChildren(ctx);\n    const { Skia } = this;\n    const blend = BlendMode[enumKey(this.props.mode)];\n    // Blend ImageFilters\n    const imageFilters = ctx.imageFilters.popAll();\n    if (imageFilters.length > 0) {\n      const composer = Skia.ImageFilter.MakeBlend.bind(Skia.ImageFilter, blend);\n      ctx.imageFilters.push(composeDeclarations(imageFilters, composer));\n    }\n    // Blend Shaders\n    const shaders = ctx.shaders.popAll();\n    if (shaders.length > 0) {\n      const composer = Skia.Shader.MakeBlend.bind(Skia.Shader, blend);\n      ctx.shaders.push(composeDeclarations(shaders, composer));\n    }\n  }\n}\n"],"mappings":"AACA,SAASA,SAAS,QAAQ,qBAAqB;AAC/C,SAASC,eAAe,EAAEC,QAAQ,QAAQ,sBAAsB;AAEhE,SAASC,kBAAkB,QAAQ,SAAS;AAC5C,SAASC,OAAO,QAAQ,cAAc;AAEtC,SAASC,mBAAmB,QAAQ,gCAAgC;AAEpE,OAAO,MAAMC,SAAS,SAASH,kBAAkB,CAAa;EAC5DI,WAAWA,CAACC,GAAgB,EAAEC,KAAiB,EAAE;IAC/C,KAAK,CAACD,GAAG,EAAEP,eAAe,CAACS,WAAW,EAAER,QAAQ,CAACS,KAAK,EAAEF,KAAK,CAAC;EAChE;EAEAG,QAAQA,CAACJ,GAAuB,EAAE;IAChC,IAAI,CAACK,gBAAgB,CAACL,GAAG,CAAC;IAC1B,MAAM;MAAEM;IAAK,CAAC,GAAG,IAAI;IACrB,MAAMC,KAAK,GAAGf,SAAS,CAACI,OAAO,CAAC,IAAI,CAACK,KAAK,CAACO,IAAI,CAAC,CAAC;IACjD;IACA,MAAMC,YAAY,GAAGT,GAAG,CAACS,YAAY,CAACC,MAAM,CAAC,CAAC;IAC9C,IAAID,YAAY,CAACE,MAAM,GAAG,CAAC,EAAE;MAC3B,MAAMC,QAAQ,GAAGN,IAAI,CAACJ,WAAW,CAACW,SAAS,CAACC,IAAI,CAACR,IAAI,CAACJ,WAAW,EAAEK,KAAK,CAAC;MACzEP,GAAG,CAACS,YAAY,CAACM,IAAI,CAAClB,mBAAmB,CAACY,YAAY,EAAEG,QAAQ,CAAC,CAAC;IACpE;IACA;IACA,MAAMI,OAAO,GAAGhB,GAAG,CAACgB,OAAO,CAACN,MAAM,CAAC,CAAC;IACpC,IAAIM,OAAO,CAACL,MAAM,GAAG,CAAC,EAAE;MACtB,MAAMC,QAAQ,GAAGN,IAAI,CAACW,MAAM,CAACJ,SAAS,CAACC,IAAI,CAACR,IAAI,CAACW,MAAM,EAAEV,KAAK,CAAC;MAC/DP,GAAG,CAACgB,OAAO,CAACD,IAAI,CAAClB,mBAAmB,CAACmB,OAAO,EAAEJ,QAAQ,CAAC,CAAC;IAC1D;EACF;AACF"}