{"version":3,"names":["BlendMode","PaintStyle","StrokeCap","StrokeJoin","enumKey","JsiDeclarationNode","DeclarationContext","JsiDrawingContext","constructor","Skia","canvas","_defineProperty","paint","Paint","paints","declarationCtx","length","save","childPaint","copy","push","restore","pop","saveAndConcat","node","cache","ConcatablePaint","isPristine","concatTo","declCtx","props","getProps","children","setColor","color","undefined","Color","setStrokeWidth","strokeWidth","setBlendMode","blendMode","setStyle","style","setStrokeJoin","strokeJoin","setStrokeCap","strokeCap","setStrokeMiter","strokeMiter","setOpacity","opacity","setAntiAlias","antiAlias","setDither","dither","forEach","child","decorate","colorFilter","colorFilters","popAllAsOne","imageFilter","imageFilters","shader","shaders","maskFilter","maskFilters","pathEffect","pathEffects","setImageFilter","setShader","setPathEffect","setColorFilter","setMaskFilter","enum","value","key","setValue","pristine","getColor","_color","getStrokeWidth","_strokeWidth","getBlendMode","_blendMode","getStyle","_style","getStrokeJoin","_strokeJoin","getStrokeCap","_strokeCap","getStrokeMiter","_strokeMiter","getOpacity","_opacity","getAntiAlias","_antiAlias","getDither","_dither","getImageFilter","_imageFilter","getShader","_shader","getPathEffect","_pathEffect","getColorFilter","_colorFilter","getMaskFilter","_maskFilter","setAlphaf","getAlphaf","currentOpacity"],"sources":["DrawingContext.ts"],"sourcesContent":["import type {\n  SkCanvas,\n  SkColor,\n  SkColorFilter,\n  SkImageFilter,\n  SkMaskFilter,\n  SkPaint,\n  SkPathEffect,\n  SkShader,\n  Skia,\n} from \"../../skia/types\";\nimport { BlendMode, PaintStyle, StrokeCap, StrokeJoin } from \"../../skia/types\";\nimport { enumKey } from \"../nodes/datatypes/Enum\";\nimport { JsiDeclarationNode } from \"../nodes/Node\";\n\nimport type { PaintProps, SkEnum } from \"./Common\";\nimport { DeclarationContext } from \"./DeclarationContext\";\nimport type { Node } from \"./Node\";\n\nexport interface DrawingContext {\n  canvas: SkCanvas;\n  paint: SkPaint;\n  saveAndConcat(node: Node<PaintProps>, cache?: SkPaint): boolean;\n  restore(): void;\n  declarationCtx: DeclarationContext;\n}\n\nexport class JsiDrawingContext implements DrawingContext {\n  paints: SkPaint[];\n\n  declarationCtx: DeclarationContext;\n\n  constructor(private readonly Skia: Skia, public readonly canvas: SkCanvas) {\n    const paint = this.Skia.Paint();\n    this.paints = [paint];\n    this.declarationCtx = new DeclarationContext(Skia);\n  }\n\n  get paint() {\n    return this.paints[this.paints.length - 1];\n  }\n\n  private save() {\n    const childPaint = this.paint.copy();\n    this.paints.push(childPaint);\n  }\n\n  restore(): void {\n    this.paints.pop();\n  }\n\n  saveAndConcat(node: Node<PaintProps>, cache?: SkPaint) {\n    if (cache) {\n      this.paints.push(cache);\n      return true;\n    }\n    const paint = new ConcatablePaint(this.Skia, this.declarationCtx, node);\n    if (!paint.isPristine()) {\n      this.save();\n      paint.concatTo(this.paint);\n      return true;\n    }\n    return false;\n  }\n}\n\nclass ConcatablePaint {\n  private pristine = true;\n\n  _color?: SkColor;\n  _strokeWidth?: number;\n  _blendMode?: BlendMode;\n  _style?: PaintStyle;\n  _strokeJoin?: StrokeJoin;\n  _strokeCap?: StrokeCap;\n  _strokeMiter?: number;\n  _opacity = 1;\n  _antiAlias?: boolean;\n  _dither?: boolean;\n\n  _imageFilter?: SkImageFilter;\n  _shader?: SkShader;\n  _pathEffect?: SkPathEffect;\n  _colorFilter?: SkColorFilter;\n  _maskFilter?: SkMaskFilter;\n\n  constructor(Skia: Skia, declCtx: DeclarationContext, node: Node<PaintProps>) {\n    const props = node.getProps();\n    const children = node.children();\n    this.setColor(\n      props.color !== undefined ? Skia.Color(props.color) : props.color\n    );\n    this.setStrokeWidth(props.strokeWidth);\n    this.setBlendMode(props.blendMode);\n    this.setStyle(props.style);\n    this.setStrokeJoin(props.strokeJoin);\n    this.setStrokeCap(props.strokeCap);\n    this.setStrokeMiter(props.strokeMiter);\n    this.setOpacity(props.opacity);\n    this.setAntiAlias(props.antiAlias);\n    this.setDither(props.dither);\n    declCtx.save();\n    children.forEach((child) => {\n      if (child instanceof JsiDeclarationNode) {\n        child.decorate(declCtx);\n      }\n    });\n    const colorFilter = declCtx.colorFilters.popAllAsOne();\n    const imageFilter = declCtx.imageFilters.popAllAsOne();\n    const shader = declCtx.shaders.pop();\n    const maskFilter = declCtx.maskFilters.pop();\n    const pathEffect = declCtx.pathEffects.popAllAsOne();\n    declCtx.restore();\n    if (imageFilter) {\n      this.setImageFilter(imageFilter);\n    }\n    if (shader) {\n      this.setShader(shader);\n    }\n    if (pathEffect) {\n      this.setPathEffect(pathEffect);\n    }\n    if (colorFilter) {\n      this.setColorFilter(colorFilter);\n    }\n    if (maskFilter) {\n      this.setMaskFilter(maskFilter);\n    }\n  }\n\n  private enum<T>(value: T, key?: Uncapitalize<string>) {\n    if (key !== undefined) {\n      return value[enumKey(key) as keyof T];\n    }\n    return undefined;\n  }\n\n  private setValue<T extends keyof typeof this>(\n    key: T,\n    value?: (typeof this)[T]\n  ) {\n    if (value !== undefined) {\n      this[key] = value;\n      this.pristine = false;\n    }\n  }\n\n  setColor(color?: SkColor) {\n    this.setValue(\"_color\", color);\n  }\n\n  getColor() {\n    return this._color;\n  }\n\n  setStrokeWidth(strokeWidth?: number) {\n    this.setValue(\"_strokeWidth\", strokeWidth);\n  }\n\n  getStrokeWidth() {\n    return this._strokeWidth;\n  }\n\n  setBlendMode(blendMode?: SkEnum<typeof BlendMode>) {\n    this.setValue(\"_blendMode\", this.enum(BlendMode, blendMode));\n  }\n\n  getBlendMode() {\n    return this._blendMode;\n  }\n\n  setStyle(style?: SkEnum<typeof PaintStyle>) {\n    this.setValue(\"_style\", this.enum(PaintStyle, style));\n  }\n\n  getStyle() {\n    return this._style;\n  }\n\n  setStrokeJoin(strokeJoin?: SkEnum<typeof StrokeJoin>) {\n    this.setValue(\"_strokeJoin\", this.enum(StrokeJoin, strokeJoin));\n  }\n\n  getStrokeJoin() {\n    return this._strokeJoin;\n  }\n\n  setStrokeCap(strokeCap?: SkEnum<typeof StrokeCap>) {\n    this.setValue(\"_strokeCap\", this.enum(StrokeCap, strokeCap));\n  }\n\n  getStrokeCap() {\n    return this._strokeCap;\n  }\n\n  setStrokeMiter(strokeMiter?: number) {\n    this.setValue(\"_strokeMiter\", strokeMiter);\n  }\n\n  getStrokeMiter() {\n    return this._strokeMiter;\n  }\n\n  setOpacity(opacity?: number) {\n    this.setValue(\"_opacity\", opacity);\n  }\n\n  getOpacity() {\n    return this._opacity;\n  }\n\n  setAntiAlias(antiAlias?: boolean) {\n    this.setValue(\"_antiAlias\", antiAlias);\n  }\n\n  getAntiAlias() {\n    return this._antiAlias;\n  }\n\n  setDither(dither?: boolean) {\n    this.setValue(\"_dither\", dither);\n  }\n\n  getDither() {\n    return this._dither;\n  }\n\n  setImageFilter(imageFilter?: SkImageFilter) {\n    this.setValue(\"_imageFilter\", imageFilter);\n  }\n\n  getImageFilter() {\n    return this._imageFilter;\n  }\n\n  setShader(shader?: SkShader) {\n    this.setValue(\"_shader\", shader);\n  }\n\n  getShader() {\n    return this._shader;\n  }\n\n  setPathEffect(pathEffect?: SkPathEffect) {\n    this.setValue(\"_pathEffect\", pathEffect);\n  }\n\n  getPathEffect() {\n    return this._pathEffect;\n  }\n\n  setColorFilter(colorFilter?: SkColorFilter) {\n    this.setValue(\"_colorFilter\", colorFilter);\n  }\n\n  getColorFilter() {\n    return this._colorFilter;\n  }\n\n  setMaskFilter(maskFilter?: SkMaskFilter) {\n    this.setValue(\"_maskFilter\", maskFilter);\n  }\n\n  getMaskFilter() {\n    return this._maskFilter;\n  }\n\n  isPristine() {\n    return this.pristine;\n  }\n\n  concatTo(paint: SkPaint) {\n    if (this._opacity !== undefined) {\n      paint.setAlphaf(paint.getAlphaf() * this._opacity);\n    }\n    if (this._color !== undefined) {\n      const currentOpacity = paint.getAlphaf();\n      paint.setShader(null);\n      paint.setColor(this._color);\n      paint.setAlphaf(currentOpacity * paint.getAlphaf());\n    }\n    if (this._strokeWidth !== undefined) {\n      paint.setStrokeWidth(this._strokeWidth);\n    }\n    if (this._blendMode !== undefined) {\n      paint.setBlendMode(this._blendMode);\n    }\n    if (this._style !== undefined) {\n      paint.setStyle(this._style);\n    }\n    if (this._strokeJoin !== undefined) {\n      paint.setStrokeJoin(this._strokeJoin);\n    }\n    if (this._strokeCap !== undefined) {\n      paint.setStrokeCap(this._strokeCap);\n    }\n    if (this._strokeMiter !== undefined) {\n      paint.setStrokeMiter(this._strokeMiter);\n    }\n    if (this._antiAlias !== undefined) {\n      paint.setAntiAlias(this._antiAlias);\n    }\n    if (this._dither !== undefined) {\n      paint.setDither(this._dither);\n    }\n    if (this._imageFilter !== undefined) {\n      paint.setImageFilter(this._imageFilter);\n    }\n    if (this._shader !== undefined) {\n      paint.setShader(this._shader);\n    }\n    if (this._pathEffect !== undefined) {\n      paint.setPathEffect(this._pathEffect);\n    }\n    if (this._colorFilter !== undefined) {\n      paint.setColorFilter(this._colorFilter);\n    }\n    if (this._maskFilter !== undefined) {\n      paint.setMaskFilter(this._maskFilter);\n    }\n  }\n}\n"],"mappings":"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"}